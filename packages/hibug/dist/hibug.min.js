!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Hibug=e()}(this,function(){"use strict";function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(r){t(e,r,n[r])})}return e}const r="caughtError",n="uncaughtError",o="resourceError",i="grammarError",a="promiseError",c="ajaxError",u="fetchError",s="websocketError",f="reportInfo",l="unknownError";var p=function(){this.__data__=[],this.size=0};var d=function(t,e){return t===e||t!=t&&e!=e};var v=function(t,e){for(var r=t.length;r--;)if(d(t[r][0],e))return r;return-1},h=Array.prototype.splice;var y=function(t){var e=this.__data__,r=v(e,t);return!(r<0||(r==e.length-1?e.pop():h.call(e,r,1),--this.size,0))};var b=function(t){var e=this.__data__,r=v(e,t);return r<0?void 0:e[r][1]};var g=function(t){return v(this.__data__,t)>-1};var w=function(t,e){var r=this.__data__,n=v(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function _(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_.prototype.clear=p,_.prototype.delete=y,_.prototype.get=b,_.prototype.has=g,_.prototype.set=w;var m=_;var j=function(){this.__data__=new m,this.size=0};var x=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var O=function(t){return this.__data__.get(t)};var E=function(t){return this.__data__.has(t)},S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function H(t,e){return t(e={exports:{}},e.exports),e.exports}var A="object"==typeof S&&S&&S.Object===Object&&S,k="object"==typeof self&&self&&self.Object===Object&&self,T=A||k||Function("return this")(),z=T.Symbol,$=Object.prototype,P=$.hasOwnProperty,D=$.toString,M=z?z.toStringTag:void 0;var L=function(t){var e=P.call(t,M),r=t[M];try{t[M]=void 0;var n=!0}catch(t){}var o=D.call(t);return n&&(e?t[M]=r:delete t[M]),o},C=Object.prototype.toString;var N=function(t){return C.call(t)},I="[object Null]",U="[object Undefined]",q=z?z.toStringTag:void 0;var F=function(t){return null==t?void 0===t?U:I:q&&q in Object(t)?L(t):N(t)};var B=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},V="[object AsyncFunction]",R="[object Function]",W="[object GeneratorFunction]",X="[object Proxy]";var Y,G=function(t){if(!B(t))return!1;var e=F(t);return e==R||e==W||e==V||e==X},J=T["__core-js_shared__"],K=(Y=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"";var Q=function(t){return!!K&&K in t},Z=Function.prototype.toString;var tt=function(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""},et=/^\[object .+?Constructor\]$/,rt=Function.prototype,nt=Object.prototype,ot=rt.toString,it=nt.hasOwnProperty,at=RegExp("^"+ot.call(it).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ct=function(t){return!(!B(t)||Q(t))&&(G(t)?at:et).test(tt(t))};var ut=function(t,e){return null==t?void 0:t[e]};var st=function(t,e){var r=ut(t,e);return ct(r)?r:void 0},ft=st(T,"Map"),lt=st(Object,"create");var pt=function(){this.__data__=lt?lt(null):{},this.size=0};var dt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},vt="__lodash_hash_undefined__",ht=Object.prototype.hasOwnProperty;var yt=function(t){var e=this.__data__;if(lt){var r=e[t];return r===vt?void 0:r}return ht.call(e,t)?e[t]:void 0},bt=Object.prototype.hasOwnProperty;var gt=function(t){var e=this.__data__;return lt?void 0!==e[t]:bt.call(e,t)},wt="__lodash_hash_undefined__";var _t=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=lt&&void 0===e?wt:e,this};function mt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mt.prototype.clear=pt,mt.prototype.delete=dt,mt.prototype.get=yt,mt.prototype.has=gt,mt.prototype.set=_t;var jt=mt;var xt=function(){this.size=0,this.__data__={hash:new jt,map:new(ft||m),string:new jt}};var Ot=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Et=function(t,e){var r=t.__data__;return Ot(e)?r["string"==typeof e?"string":"hash"]:r.map};var St=function(t){var e=Et(this,t).delete(t);return this.size-=e?1:0,e};var Ht=function(t){return Et(this,t).get(t)};var At=function(t){return Et(this,t).has(t)};var kt=function(t,e){var r=Et(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Tt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Tt.prototype.clear=xt,Tt.prototype.delete=St,Tt.prototype.get=Ht,Tt.prototype.has=At,Tt.prototype.set=kt;var zt=Tt,$t=200;var Pt=function(t,e){var r=this.__data__;if(r instanceof m){var n=r.__data__;if(!ft||n.length<$t-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new zt(n)}return r.set(t,e),this.size=r.size,this};function Dt(t){var e=this.__data__=new m(t);this.size=e.size}Dt.prototype.clear=j,Dt.prototype.delete=x,Dt.prototype.get=O,Dt.prototype.has=E,Dt.prototype.set=Pt;var Mt=Dt,Lt="__lodash_hash_undefined__";var Ct=function(t){return this.__data__.set(t,Lt),this};var Nt=function(t){return this.__data__.has(t)};function It(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new zt;++e<r;)this.add(t[e])}It.prototype.add=It.prototype.push=Ct,It.prototype.has=Nt;var Ut=It;var qt=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};var Ft=function(t,e){return t.has(e)},Bt=1,Vt=2;var Rt=function(t,e,r,n,o,i){var a=r&Bt,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var s=i.get(t);if(s&&i.get(e))return s==e;var f=-1,l=!0,p=r&Vt?new Ut:void 0;for(i.set(t,e),i.set(e,t);++f<c;){var d=t[f],v=e[f];if(n)var h=a?n(v,d,f,e,t,i):n(d,v,f,t,e,i);if(void 0!==h){if(h)continue;l=!1;break}if(p){if(!qt(e,function(t,e){if(!Ft(p,e)&&(d===t||o(d,t,r,n,i)))return p.push(e)})){l=!1;break}}else if(d!==v&&!o(d,v,r,n,i)){l=!1;break}}return i.delete(t),i.delete(e),l},Wt=T.Uint8Array;var Xt=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r};var Yt=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r},Gt=1,Jt=2,Kt="[object Boolean]",Qt="[object Date]",Zt="[object Error]",te="[object Map]",ee="[object Number]",re="[object RegExp]",ne="[object Set]",oe="[object String]",ie="[object Symbol]",ae="[object ArrayBuffer]",ce="[object DataView]",ue=z?z.prototype:void 0,se=ue?ue.valueOf:void 0;var fe=function(t,e,r,n,o,i,a){switch(r){case ce:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ae:return!(t.byteLength!=e.byteLength||!i(new Wt(t),new Wt(e)));case Kt:case Qt:case ee:return d(+t,+e);case Zt:return t.name==e.name&&t.message==e.message;case re:case oe:return t==e+"";case te:var c=Xt;case ne:var u=n&Gt;if(c||(c=Yt),t.size!=e.size&&!u)return!1;var s=a.get(t);if(s)return s==e;n|=Jt,a.set(t,e);var f=Rt(c(t),c(e),n,o,i,a);return a.delete(t),f;case ie:if(se)return se.call(t)==se.call(e)}return!1};var le=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},pe=Array.isArray;var de=function(t,e,r){var n=e(t);return pe(t)?n:le(n,r(t))};var ve=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i};var he=function(){return[]},ye=Object.prototype.propertyIsEnumerable,be=Object.getOwnPropertySymbols,ge=be?function(t){return null==t?[]:(t=Object(t),ve(be(t),function(e){return ye.call(t,e)}))}:he;var we=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var _e=function(t){return null!=t&&"object"==typeof t},me="[object Arguments]";var je=function(t){return _e(t)&&F(t)==me},xe=Object.prototype,Oe=xe.hasOwnProperty,Ee=xe.propertyIsEnumerable,Se=je(function(){return arguments}())?je:function(t){return _e(t)&&Oe.call(t,"callee")&&!Ee.call(t,"callee")};var He=function(){return!1},Ae=H(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?T.Buffer:void 0,i=(o?o.isBuffer:void 0)||He;t.exports=i}),ke=9007199254740991,Te=/^(?:0|[1-9]\d*)$/;var ze=function(t,e){var r=typeof t;return!!(e=null==e?ke:e)&&("number"==r||"symbol"!=r&&Te.test(t))&&t>-1&&t%1==0&&t<e},$e=9007199254740991;var Pe=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=$e},De={};De["[object Float32Array]"]=De["[object Float64Array]"]=De["[object Int8Array]"]=De["[object Int16Array]"]=De["[object Int32Array]"]=De["[object Uint8Array]"]=De["[object Uint8ClampedArray]"]=De["[object Uint16Array]"]=De["[object Uint32Array]"]=!0,De["[object Arguments]"]=De["[object Array]"]=De["[object ArrayBuffer]"]=De["[object Boolean]"]=De["[object DataView]"]=De["[object Date]"]=De["[object Error]"]=De["[object Function]"]=De["[object Map]"]=De["[object Number]"]=De["[object Object]"]=De["[object RegExp]"]=De["[object Set]"]=De["[object String]"]=De["[object WeakMap]"]=!1;var Me=function(t){return _e(t)&&Pe(t.length)&&!!De[F(t)]};var Le=function(t){return function(e){return t(e)}},Ce=H(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&A.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i}),Ne=Ce&&Ce.isTypedArray,Ie=Ne?Le(Ne):Me,Ue=Object.prototype.hasOwnProperty;var qe=function(t,e){var r=pe(t),n=!r&&Se(t),o=!r&&!n&&Ae(t),i=!r&&!n&&!o&&Ie(t),a=r||n||o||i,c=a?we(t.length,String):[],u=c.length;for(var s in t)!e&&!Ue.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ze(s,u))||c.push(s);return c},Fe=Object.prototype;var Be=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Fe)};var Ve=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),Re=Object.prototype.hasOwnProperty;var We=function(t){if(!Be(t))return Ve(t);var e=[];for(var r in Object(t))Re.call(t,r)&&"constructor"!=r&&e.push(r);return e};var Xe=function(t){return null!=t&&Pe(t.length)&&!G(t)};var Ye=function(t){return Xe(t)?qe(t):We(t)};var Ge=function(t){return de(t,Ye,ge)},Je=1,Ke=Object.prototype.hasOwnProperty;var Qe=function(t,e,r,n,o,i){var a=r&Je,c=Ge(t),u=c.length;if(u!=Ge(e).length&&!a)return!1;for(var s=u;s--;){var f=c[s];if(!(a?f in e:Ke.call(e,f)))return!1}var l=i.get(t);if(l&&i.get(e))return l==e;var p=!0;i.set(t,e),i.set(e,t);for(var d=a;++s<u;){var v=t[f=c[s]],h=e[f];if(n)var y=a?n(h,v,f,e,t,i):n(v,h,f,t,e,i);if(!(void 0===y?v===h||o(v,h,r,n,i):y)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var b=t.constructor,g=e.constructor;b!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g)&&(p=!1)}return i.delete(t),i.delete(e),p},Ze=st(T,"DataView"),tr=st(T,"Promise"),er=st(T,"Set"),rr=st(T,"WeakMap"),nr=tt(Ze),or=tt(ft),ir=tt(tr),ar=tt(er),cr=tt(rr),ur=F;(Ze&&"[object DataView]"!=ur(new Ze(new ArrayBuffer(1)))||ft&&"[object Map]"!=ur(new ft)||tr&&"[object Promise]"!=ur(tr.resolve())||er&&"[object Set]"!=ur(new er)||rr&&"[object WeakMap]"!=ur(new rr))&&(ur=function(t){var e=F(t),r="[object Object]"==e?t.constructor:void 0,n=r?tt(r):"";if(n)switch(n){case nr:return"[object DataView]";case or:return"[object Map]";case ir:return"[object Promise]";case ar:return"[object Set]";case cr:return"[object WeakMap]"}return e});var sr=ur,fr=1,lr="[object Arguments]",pr="[object Array]",dr="[object Object]",vr=Object.prototype.hasOwnProperty;var hr=function(t,e,r,n,o,i){var a=pe(t),c=pe(e),u=a?pr:sr(t),s=c?pr:sr(e),f=(u=u==lr?dr:u)==dr,l=(s=s==lr?dr:s)==dr,p=u==s;if(p&&Ae(t)){if(!Ae(e))return!1;a=!0,f=!1}if(p&&!f)return i||(i=new Mt),a||Ie(t)?Rt(t,e,r,n,o,i):fe(t,e,u,r,n,o,i);if(!(r&fr)){var d=f&&vr.call(t,"__wrapped__"),v=l&&vr.call(e,"__wrapped__");if(d||v){var h=d?t.value():t,y=v?e.value():e;return i||(i=new Mt),o(h,y,r,n,i)}}return!!p&&(i||(i=new Mt),Qe(t,e,r,n,o,i))};var yr=function t(e,r,n,o,i){return e===r||(null==e||null==r||!_e(e)&&!_e(r)?e!=e&&r!=r:hr(e,r,n,o,t,i))};var br=function(t,e){return yr(t,e)};let gr;function wr(t,e=2){[{type:0,msg:"log",style:"background: #e4f1eb; color: #fff; padding: 2px 4px; border-radius: 2px"},{type:1,msg:"info",style:"background: #007fff; color: #fff; padding: 2px 4px; border-radius: 2px"},{type:2,msg:"error",style:"background: #d9634d; color: #fff; padding: 2px 4px; border-radius: 2px"}].forEach(r=>{e===r.type&&console[r.msg](`%c${r.msg}`,r.style,t)})}function _r(){var t=window.$HibugConfig,r=new Date,n={time:"".concat(r.getFullYear(),"年").concat(r.getMonth()+1,"月").concat(r.getDate(),"日").concat(r.getHours(),"时").concat(r.getMinutes(),"分").concat(r.getSeconds(),"秒"),userAgent:window.navigator.userAgent,url:window.location.href,title:document.title,preUrl:document.referrer&&document.referrer!==window.location.href?document.referrer:""};return(null==t?void 0:t.others)&&(n=e({},n,t.others)),n}var mr=/^(https?:\/\/)?(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(.+)?$/;function jr(t){try{var e=window.$HibugConfig;if(null==e?void 0:e.report)if("boolean"==typeof e.enabledDev){var r=mr.test(window.location.host)||window.location.host.indexOf("localhost")>-1||!window.location.host;e.enabledDev&&r&&e.report(t)}else if(Array.isArray(e.enabledDev)&&e.enabledDev.length){e.enabledDev.find(function(t){return window.location.host&&t.indexOf(window.location.host)>-1})||e.report(t)}else e.report(t)}catch(t){wr("发送日志失败 errorInfo:".concat(t))}}var xr=[],Or=function(t){return function(t,e){return function(){const r=this,n=arguments;gr&&clearTimeout(gr),gr=setTimeout(()=>{t.apply(r,n)},e)}}(function(){wr(xr,0),jr(xr)},t).call()};function Er(t){wr(t),xr.length?xr.forEach(function(r){br(t.desc,r.desc)||xr.push(e({},_r(),t))}):xr.push(e({},_r(),t));var r=window.$HibugConfig;(null==r?void 0:r.error)&&(!(null==r?void 0:r.mode)||"immediately"===r.mode)&&xr.length&&xr.length<=r.maxError&&Or(r&&r.delay||2e3)}function Sr(t){var e=t.type,r=t.e;try{if("default"===e){var c=r.message,u=r.filename,s=r.lineno,f=r.colno,p=r.error;if(c){if(p)Er({type:n,desc:{message:c,filename:u,row:s,col:f,error:p.stack||p}})}else{var d=r.target||r.srcElement,v=r.target||r.srcElement;if(d){var h=d.outerHTML,y=function(){for(var t=[],e=0;v&&v.nodeType===Node.ELEMENT_NODE&&v.nodeType!==Node.DOCUMENT_TYPE_NODE;v=v.previousSibling)e&&t.push(v),e+=1;return r&&r.path.reverse().map(function(e){return(e.localName||"")+(e.id?"#".concat(e.id):"")+(e.className?".".concat(e.className):"")+(e.outerHTML===h?":nth-child(".concat(t.length,")"):"")}).filter(function(t){return t}).join(" > ")}();Er({type:o,desc:{outerHTML:h,src:d&&d.src,tagName:d&&d.tagName,id:d&&d.id,className:d&&d.className,name:d&&d.name,type:d&&d.type,selector:y,timeStamp:r.timeStamp}})}else if("string"==typeof r){Er({type:i,desc:r})}}}else if("promise"===e){Er({type:a,desc:{message:r.reason.message||r.reason,error:r.reason.stack||r.reason}})}return!1}catch(t){Er({type:l,desc:"unknown error"})}}function Hr(){try{if(window){if(!window.performance)return new Error("performance is not supported");var t=performance.getEntriesByType("resource");return t&&t.length?t.map(function(t){return{name:t.name,type:t.initiatorType,duration:t.duration||0,decodedBodySize:t.decodedBodySize||0,nextHopProtocol:t.nextHopProtocol}}):[]}}catch(t){wr(t)}}function Ar(){try{if(window.localStorage){var t=new Date,e=localStorage.getItem("$HibugUV")||"",r=localStorage.getItem("$HibugUVTime")||"";if(!e&&!r||t.getTime()>1*r){e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),localStorage.setItem("$HibugUV",e);var n="".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate()," 23:59:59");localStorage.setItem("$HibugUVTime",new Date(n).getTime())}return e}}catch(t){wr(t)}}var kr=window.addEventListener;function Tr(){var t=window.$HibugConfig;kr&&kr("error",function(t){Sr({type:"default",e:t})},!0),kr&&kr("unhandledrejection",function(t){t.preventDefault(),Sr({type:"promise",e:t})},!0),function(){var t=window.$HibugConfig.ignore;if(window.XMLHttpRequest&&{url:"",method:"",open:window.XMLHttpRequest.prototype.open,send:window.XMLHttpRequest.prototype.send,init:function(){var e=this;window.XMLHttpRequest.prototype.open=function(){e.url=arguments[1],e.method=arguments[0],e.open.apply(this,arguments)},window.XMLHttpRequest.prototype.send=function(){this.addEventListener("readystatechange",function(){if(4===this.readyState){var r=t.filter(function(t){return e.url.indexOf(t)>-1});if((!this.status||this.status>=400)&&!r.length){var n={type:c,desc:{req:{url:e.url,method:e.method,data:arguments[0]||{}},res:{status:this.status,statusText:this.statusText,response:this.response}}};Er(n)}}}),e.send.apply(this,arguments)}}}.init(),window.fetch){var e={backup:window.fetch,init:function(){window.fetch=function(r,n){return e.backup.apply(this,arguments).then(function(e){var o=t.filter(function(t){return r.indexOf(t)>-1});return e.status&&!(e.status>=400)||o.length||Er({type:u,desc:{req:{url:r,method:n&&n.method||"GET",data:n&&n.body||{}},res:{status:e.status,statusText:e.statusText}}}),e}).catch(function(t){Er({type:u,desc:t})})}}};e.init()}window.WebSocket&&{url:"",backup:Object.getOwnPropertyDescriptor(window.WebSocket.prototype,"onerror"),init:function(){var t=this;Object.defineProperty(window.WebSocket.prototype,"onerror",{set:function(){try{var e=arguments[0];t.backup.set.apply(this,[function(t){var r={type:s,desc:{url:t.target.url}};Er(r),e.apply(this,arguments)}])}catch(e){return t.backup.set.apply(this,arguments)}}})}}.init()}(),"beforeunload"===(null==t?void 0:t.mode)&&kr&&kr("unload",function(){(null==xr?void 0:xr.length)&&xr.length<=t.maxError&&jr(xr)},!0),(null==t?void 0:t.performance)&&kr&&kr("load",function(){var t=function(){try{var t;if(!(null===(t=window)||void 0===t?void 0:t.performance))return new Error("performance is not supported");var e=window.performance.timing,r=e.connectEnd,n=e.connectStart,o=e.domComplete,i=e.domContentLoadedEventEnd,a=e.domContentLoadedEventStart,c=e.domInteractive,u=e.domLoading,s=e.domainLookupEnd,f=e.domainLookupStart,l=e.fetchStart,p=e.loadEventEnd,d=e.loadEventStart,v=e.navigationStart,h=e.redirectEnd,y=e.redirectStart,b=e.requestStart,g=e.responseEnd,w=e.responseStart,_=e.secureConnectionStart;return{redirect:h-y||0,cache:f-l||0,dns:s-f||0,tcp:r-n||0,secureConnection:_?r-_:0,request:g-b||0,first:w-v||0,unload:e.unloadEventEnd-e.unloadEventStart||0,network:g-v||0,domInteractive:c-u||0,script:i-a||0,dom:o-c||0,onload:p-d||0,total:p-v||0}}catch(t){wr(t)}}(),r=Hr(),n=Ar(),o=e({},_r());t&&(o.performance=t),(null==r?void 0:r.length)&&(o.resource=r),n&&(o.UV=n),jr(o)},!0)}function zr(){}return zr.init=function(t){var r,n;window?(window.$HibugAuth=!0,(null===(r=window)||void 0===r?void 0:r.$HibugConfig)||(window.$HibugConfig={delay:2e3,report:function(){},enabledDev:!1,maxError:10,mode:"immediately",ignore:[],error:!0,performance:!1,include:null}),t&&(window.$HibugConfig=e({},window.$HibugConfig,t)),(null===(n=window)||void 0===n?void 0:n.$HibugAuth)&&Tr()):console.error("Hibug: 检测到当前环境不支持 Hibug！")},zr.reportInfo=function(t,e){if(window.$HibugAuth){var r=window.$HibugConfig,n={type:f,desc:t};r.include?"function"==typeof r.include?e?r.include()&&Er(n):Er(n):console.error("Hibug: 参数 include 类型必须为 function"):!r.include&&e?console.error("Hibug: Hibug.init 未传入参数 include"):r.include||e||Er(n)}else console.error("Hibug: 检测到未执行 Hibug.init()")},zr.caughtError=function(t,n,o){var i;if(null===(i=window)||void 0===i?void 0:i.$HibugAuth)return"function"==typeof o.value?e({},o,{value:function(){try{return o.value&&o.value.apply(this,arguments)}catch(e){var t={type:r,desc:{method:n,params:arguments,error:e.stack||e}};throw Er(t),e}}}):"function"==typeof o.initializer?{enumerable:!0,configurable:!0,get:function(){return o.initializer&&o.initializer.apply(this)}}:void 0;console.error("Hibug: 检测到未执行 Hibug.init()")},zr});
